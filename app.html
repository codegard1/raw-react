<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title>I'm a React App</title>
    <link rel="stylesheet" type="text/css" href="app.css" />
</head>

<body>
    <div id="react-app">
    </div>
    <script src="https://cdn.jsdelivr.net/react/0.14.0-rc1/react.js"></script>
    <script src="https://cdn.jsdelivr.net/react/0.14.0-rc1/react-dom.js"></script>
    <script type="text/javascript">
        var contacts = [{
            key: 1,
            name: "Chris Odegard",
            email: "chris@chrisco.com",
            description: "Bleep blorp"
        }, {
            key: 2,
            name: "Bunna Kanna Gakka Klang",
            email: "bunnakanna@zipzoop.net"
        }, {
            key: 3,
            name: "Joe"
        }, 
        {
            key:4,
            name:'Booznorch McGorch',
            email: 'booznorch@mcGorch.org',
            description: 'The one and only'
        },
        {
            key:5,
            name:'Phil Lepton',
            email: 'phill@mscdeufpaka.edu',
            description: 'In lamens terms I\'m the particle czar'
        }];

        var newContact = {
            name: "",
            email: "",
            description: ""
        }

        var ContactForm = React.createClass({
            propTypes: {
                contact: React.PropTypes.object.isRequired
            },
            render: function () {
                return (
                    React.createElement('form', {
                            className: 'ContactForm'
                        },
                        React.createElement('input', {
                            type: 'text',
                            placeholder: 'Name (Required)',
                            value: this.props.contact.name,
                            className: 'ContactForm-name'
                        }),
                        React.createElement('input', {
                            type: 'email',
                            placeholder: 'Email (Required)',
                            value: this.props.contact.email,
                            className: 'ContactForm-email'
                        }),
                        React.createElement('textarea', {
                            placeholder: 'Description',
                            value: this.props.contact.description,
                            className: 'ContactForm-description'
                        }),
                        React.createElement('button', {
                            type: 'submit',
                            className: 'ContactForm-button'
                        }, 'Add contact')
                    )
                );
            }
        });

        var ContactItem = React.createClass({
            propTypes: {
                name: React.PropTypes.string.isRequired,
                email: React.PropTypes.string.isRequired,
                description: React.PropTypes.string.isRequired
            },
            render: function () {
                return (
                    React.createElement('li', {
                            className: 'ContactItem'
                        },
                        React.createElement('h2', {
                            className: 'ContactItem-name'
                        }, this.props.name),
                        React.createElement('a', {
                            className: 'ContactItem-email',
                            href: "mailto:" + this.props.email
                        }, this.props.email),
                        React.createElement('p', {
                            className: 'ContactItem-description'
                        }, this.props.description)
                    )
                );
            }
        });

        var ContactView = React.createClass({
            propTypes: {
                contacts: React.PropTypes.array.isRequired,
                newContact: React.PropTypes.object.isRequired
            },
            render: function () {
                var contactItemElements = this.props.contacts
                    .filter(function (contact) {
                        return contact.email
                    })
                    .map(function (contact) {
                        return React.createElement(ContactItem, contact)
                    });
                return (
                    React.createElement('div', {
                            className: 'ContactView'
                        },
                        React.createElement('h1', {
                            className: 'ContactView-title'
                        }, "Contacts"),
                        React.createElement('ul', {
                            className: 'ContactView-list'
                        }, contactItemElements),
                        React.createElement(ContactForm, {
                            contact: this.props.newContact
                        })
                    )
                );
            }
        });

        var listElements = contacts
            .filter(function (contact) {
                return contact.email;
            })
            .map(function (contact) {
                return React.createElement(ContactItem, contact)
            });

        var rootElement =
            React.createElement(ContactView, {
                contacts: contacts,
                newContact: newContact
            });

        ReactDOM.render(rootElement, document.getElementById('react-app'));
    </script>
</body>

</html>